## 项目简介
本次项目开发为线上购物商城，包括前台购物系统和后台管理系统，前台客户功能将做到一站式购物网站，从购买，支付，
到收货整个购物流程用户可以做到足不出户。消费者可以得到
商品的实时价格以及评价来作为产品的选择基准。同时会制作积分模块以及
优惠活动模块来吸引消费者的注意力。后台管理包括对商品的，分类等项目管理，员工管理，以及支付订单处理等功能。

## 主要功能模块
 后台：品牌管理、商品分类管理、商品管理、订单管理、系统管理和会员管理。
 前台： 首页、商品展示、商品购买、订单管理、在线支付等。
 
 ## 开发环境和技术
 
 

开发环境  | 开发工具 | 相关技术
---|---|---
Windows | Phpstorm+PHP7.0+GIT+Apache | Yii2.0+CDN+jQuery+sphinx


## 项目人员组成周期成本

### 人员组成

职位  | 人数
---|---
项目经理和组长 | 1 
开发人员   | 1
前端开发人员| 1
测试人员 | 1

### 项目周期成本

周期  | 人数
---|---
两周需求设计 | 1 
 两周UI设计  | 1
3个月 第一周需求设计 9周完成编码 2周测试和修复/ 4

## 品牌功能模块

#### 需求

品牌列表的显示、添加、删除、修改。


#### 流程

1.设计数据库

2.创建模型，控制器，视图

3.完成增删改查相关代码

4.完善首页分页功能

5.测试功能以及修复BUG

#### 要点难点以及解决方案

1.FileUpload上传文件

方案：
~~~
//生成模型对象
        $model=new Brand();

        $request=\Yii::$app->request;
        if ($request->isPost){

            //绑定数据库
            $model->load($request->post());

            //验证
            if ($model->validate()) {
                //保存数据
                $model->save();
                \Yii::$app->session->setFlash("success",'添加成功');
                return $this->redirect(['index']);

            }
~~~

## 文章管理模块

#### 需求

文章分类的增删改查；

文章内容增删改查；

#### 流程

1.设计数据库

2.创建模型，控制器，视图

3.完成增删改查相关代码

4.完善首页分页功能

5.测试功能以及修复BUG

#### 要点难点以及解决方案

1. 文章分类表与文章表的一对多关联取值；
2. 文章表的垂直分表及同步操作；


## 商品分类管理模块

#### 需求

商品无限极分类的增删改查；

#### 流程

1.设计数据库

2.创建模型，控制器，视图

3.完成增删改查相关代码

4.完善首页分页功能

5.测试功能以及修复BUG

#### 要点难点以及解决方案

1. 商品分类折叠显示
2. 编辑操作时隐藏当前分类及其子分类，防止修改后出现分类逻辑紊乱；

   解决方法： 在控制器中查询原有分类时通过tree字段和lft字段进行过滤
3. 删除时不可删除有下级分类的分类   

### 需要
* 管理员的增删改查
* 管理员登录 自动登录
* 退出
* 自己资料修改
* 编辑的时候密码不要回显,如果没有输入密码,不更改,只有输入了密码才更改密码(场景)

### 设计要点
* 自动登录

### 要点难点及解决方案
1. 要修改配置里user组件里用来实现用户的类 Admin::className();
2. 自己登录要实现接口
3. 自己的资料修改
4. 一般情况下都用name做为用户名字段

## RBAC权限管理

###  需求
* 权限的增删改查

###  设计要点
1. 配置authManager 组件
2. 数据迁移
3. 实例化authManager,再做增删改查

### 要点难点及解决方案
1. 权限用过滤器来实现,需要设置全局注入
2. 编辑角色,需要先删除原来所有权限,再执行添加操作
